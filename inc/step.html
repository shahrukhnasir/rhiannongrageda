<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Step Form</title>
<style>
    body {
        font-family: Arial, sans-serif;
    }
    .container {
        max-width: 600px;
        margin: 0 auto;
        padding: 20px;
    }
    .progress-bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
    }
    .step {
        flex: 1;
        text-align: center;
        font-weight: bold;
    }
    .step-content {
        display: none;
    }
    .step-content.active {
        display: block;
    }
    .box {
        border: 1px solid #ccc;
        padding: 10px;
        margin-bottom: 10px;
        cursor: pointer;
    }
    .selected {
        background-color: #f0f0f0;
    }
    #final-form {
        display: none;
    }
    #final-form.active {
        display: block;
    }
</style>
</head>
<body>

<div class="container">
    <div class="progress-bar">
        <div class="step">Step 1</div>
        <div class="step">Step 2</div>
        <div class="step">Step 3</div>
        <div class="step">Step 4</div>
    </div>
    
    <div id="step1" class="step-content active">
        <h2>Select Package</h2>
        <select id="package">
            <option value="Package A">Package A</option>
            <option value="Package B">Package B</option>
            <option value="Package C">Package C</option>
        </select>
    </div>
    
    <div id="step2" class="step-content">
        <h2>Select Box (Step 2)</h2>
        <div class="box">Box 1</div>
        <div class="box">Box 2</div>
        <div class="box">Box 3</div>
        <div class="box">Box 4</div>
        <div class="box">Box 5</div>
        <div class="box">Box 6</div>
    </div>
    
    <div id="step3" class="step-content">
        <h2>Select Box (Step 3)</h2>
        <div class="box">Box 1</div>
        <div class="box">Box 2</div>
        <div class="box">Box 3</div>
    </div>
    
    <div id="step4" class="step-content">
        <h2>Final Form (Step 4)</h2>
        <form id="final-form">
            <!-- Your final form fields go here -->
            <input type="text" placeholder="Name">
            <input type="email" placeholder="Email">
            <button type="submit">Submit</button>
        </form>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const progressBar = document.querySelector(".progress-bar");
        const steps = document.querySelectorAll(".step-content");
        const boxes = document.querySelectorAll(".box");
        const finalForm = document.getElementById("final-form");

        let currentStep = 0;

        steps[currentStep].classList.add("active");

        progressBar.addEventListener("click", function(e) {
            const clickedStep = e.target.closest(".step");
            if (!clickedStep) return;

            const index = Array.from(progressBar.children).indexOf(clickedStep);

            if (index < currentStep) {
                steps[currentStep].classList.remove("active");
                steps[index].classList.add("active");
                currentStep = index;
            }
        });

        boxes.forEach(box => {
            box.addEventListener("click", function() {
                boxes.forEach(b => b.classList.remove("selected"));
                this.classList.add("selected");

                if (currentStep === 1) {
                    const selectedBox = document.createElement("div");
                    selectedBox.textContent = `Selected Box: ${this.textContent}`;
                    progressBar.insertBefore(selectedBox, steps[currentStep]);
                } else if (currentStep === 2) {
                    const selectedBox = document.createElement("div");
                    selectedBox.textContent = `Selected Box: ${this.textContent}`;
                    progressBar.insertBefore(selectedBox, steps[currentStep]);
                }
            });
        });

        finalForm.addEventListener("submit", function(e) {
            e.preventDefault();
            // Process final form data
            alert("Form submitted successfully!");
        });
    });
</script>

</body>
</html>
